<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡πÄ‡∏Å‡∏°‡πÅ‡∏¢‡∏Å‡∏Ç‡∏¢‡∏∞</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Mali:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
    rel="stylesheet" />
  <style>
    .mali-extralight {
      font-family: "Mali", cursive;
      font-weight: 200;
      font-style: normal;
    }

    .mali-light {
      font-family: "Mali", cursive;
      font-weight: 300;
      font-style: normal;
    }

    .mali-regular {
      font-family: "Mali", cursive;
      font-weight: 400;
      font-style: normal;
    }

    .mali-medium {
      font-family: "Mali", cursive;
      font-weight: 500;
      font-style: normal;
    }

    .mali-semibold {
      font-family: "Mali", cursive;
      font-weight: 600;
      font-style: normal;
    }

    .mali-bold {
      font-family: "Mali", cursive;
      font-weight: 700;
      font-style: normal;
    }

    .mali-extralight-italic {
      font-family: "Mali", cursive;
      font-weight: 200;
      font-style: italic;
    }

    .mali-light-italic {
      font-family: "Mali", cursive;
      font-weight: 300;
      font-style: italic;
    }

    .mali-regular-italic {
      font-family: "Mali", cursive;
      font-weight: 400;
      font-style: italic;
    }

    .mali-medium-italic {
      font-family: "Mali", cursive;
      font-weight: 500;
      font-style: italic;
    }

    .mali-semibold-italic {
      font-family: "Mali", cursive;
      font-weight: 600;
      font-style: italic;
    }

    .mali-bold-italic {
      font-family: "Mali", cursive;
      font-weight: 700;
      font-style: italic;
    }

    body {
      font-family: "Mali", cursive;
      text-align: center;
      background-image: url(img/bg_1.jpg);
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-attachment: fixed;
      /* background-size: 100% 100%; */
    }

    .game-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 50px;
    }

    .bin-container {
      text-align: center;
    }

    .bin {
      width: 9rem;
      height: 11rem;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      font-weight: bold;
      color: white;
      /* border: solid 1px blue; */
      text-shadow: 1px 1px 5px black;
      box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.3);
      border-bottom: 3px solid rgba(0, 0, 0, 0.1);
      cursor: pointer;
    }

    .trash {
      width: 90px;
      height: 90px;
      margin: 5px;
    }

    .trash-item {
      display: flex;
      align-items: center;
    }

    .trash-name {
      margin-left: 10px;
      font-size: 16px;
      background-color: aliceblue;
    }

    .active-border {
      border: 3px solid red;
      /* Change color as needed */
    }

    .play {
      background-color: aliceblue;
      padding: 3px;
      border-radius: 15px;
    }

    #score,
    #timer {
      font-family: "Courier New", monospace;
      /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ü‡∏≠‡∏ô‡∏ï‡πå */
      font-size: 20px;
      /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå */
      color: #333;
      /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ */
      letter-spacing: 2px;
      /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ */
      font-weight: bold;
    }

    #startButton,
    #resetButton {
      font-size: 20px;
      padding: 0px 30px;
      border-radius: 10px;
    }
  </style>
</head>

<body class="container">
  <h1 class="mt-4">‡πÄ‡∏Å‡∏°‡πÅ‡∏¢‡∏Å‡∏Ç‡∏¢‡∏∞</h1>
  <p class="lead">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏¢‡∏∞‡πÉ‡∏™‡πà‡∏ñ‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!</p>

  <div class="d-flex justify-content-center gap-3 flex-wrap">
    <div class="bin-container">
      <div class="bin" id="organic-bin" data-type="organic" style="background-image: url(img/Bin_1.png)"></div>
      <p>üå± ‡∏Ç‡∏¢‡∏∞‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å</p>
    </div>
    <div class="bin-container">
      <div class="bin" id="general-bin" data-type="general" style="background-image: url(img/Bin_2.png)"></div>
      <p>üóëÔ∏è ‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</p>
    </div>
    <div class="bin-container">
      <div class="bin" id="recycle-bin" data-type="recycle" style="background-image: url(img/Bin_3.png)"></div>
      <p>‚ôªÔ∏è ‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•</p>
    </div>
    <div class="bin-container">
      <div class="bin" id="hazard-bin" data-type="hazard" style="background-image: url(img/Bin_4.png)"></div>
      <p>‚ò†Ô∏è ‡∏Ç‡∏¢‡∏∞‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢</p>
    </div>
    <div class="bin-container">
      <div class="bin" id="infectious-bin" data-type="infectious" style="background-image: url(img/Bin_5.png)"></div>
      <p>ü¶† ‡∏Ç‡∏¢‡∏∞‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠</p>
    </div>
  </div>
  <br />
  <div id="trash-container" class="d-flex justify-content-center flex-wrap gap-2">
    <div class="trash-item">
      <img src="img/plastic-bottle.jpg" class="trash" draggable="true" data-type="recycle" alt="‡∏Ç‡∏ß‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å" />
      <span class="trash-name">‡∏Ç‡∏ß‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å</span>
    </div>
    <div class="trash-item">
      <img src="img/fruit.jpg" class="trash" draggable="true" data-type="organic" alt="‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏•‡πÑ‡∏°‡πâ" />
      <span class="trash-name">‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏•‡πÑ‡∏°‡πâ</span>
    </div>
    <div class="trash-item">
      <img src="img/battery.jpg" class="trash" draggable="true" data-type="hazard" alt="‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà" />
      <span class="trash-name">‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà</span>
    </div>
    <div class="trash-item">
      <img src="img/plaster.jpg" class="trash" draggable="true" data-type="infectious" alt="‡∏û‡∏•‡∏≤‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏õ‡∏∞‡πÅ‡∏ú‡∏•" />
      <span class="trash-name">‡∏û‡∏•‡∏≤‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏õ‡∏∞‡πÅ‡∏ú‡∏•</span>
    </div>
    <div class="trash-item">
      <img src="img/paper.jpg" class="trash" draggable="true" data-type="recycle" alt="‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©" />
      <span class="trash-name">‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©</span>
    </div>
    <div class="trash-item">
      <img src="img/Straw.jpg" class="trash" draggable="true" data-type="general" alt="‡∏´‡∏•‡∏≠‡∏î" />
      <span class="trash-name">‡∏´‡∏•‡∏≠‡∏î</span>
    </div>
    <div class="trash-item">
      <img src="img/Metal-can.jpg" class="trash" draggable="true" data-type="recycle" alt="‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡πÇ‡∏•‡∏´‡∏∞" />
      <span class="trash-name">‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡πÇ‡∏•‡∏´‡∏∞</span>
    </div>
    <div class="trash-item">
      <img src="img/food.jpg" class="trash" draggable="true" data-type="organic" alt="‡πÄ‡∏®‡∏©‡∏≠‡∏≤‡∏´‡∏≤‡∏£" />
      <span class="trash-name">‡πÄ‡∏®‡∏©‡∏≠‡∏≤‡∏´‡∏≤‡∏£</span>
    </div>
    <div class="trash-item">
      <img src="img/garbage bags.jpg" class="trash" draggable="true" data-type="general" alt="‡∏ñ‡∏∏‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å" />
      <span class="trash-name">‡∏ñ‡∏∏‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å</span>
    </div>
    <div class="trash-item">
      <img src="img/broken_glass.png" class="trash" draggable="true" data-type="hazard" alt="‡πÄ‡∏®‡∏©‡πÅ‡∏Å‡πâ‡∏ß" />
      <span class="trash-name">‡πÄ‡∏®‡∏©‡πÅ‡∏Å‡πâ‡∏ß</span>
    </div>
    <div class="trash-item">
      <img src="img/spray.jpg" class="trash" draggable="true" data-type="hazard" alt="‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡∏™‡∏µ" />
      <span class="trash-name">‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡∏™‡∏µ</span>
    </div>
    <div class="trash-item">
      <img src="img/mask.jpg" class="trash" draggable="true" data-type="infectious" alt="‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏Å‡∏≠‡∏ô‡∏≤‡∏°‡∏±‡∏¢‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß" />
      <span class="trash-name">‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏Å‡∏≠‡∏ô‡∏≤‡∏°‡∏±‡∏¢‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß</span>
    </div>
  </div>
  <br />
  <!-- <button class="btn btn-danger" onclick="resetGame()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏Å‡∏°</button> -->

  <div class="d-flex justify-content-center gap-5 flex-wrap have-border play">
    <!-- <div id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</div> -->
    <div id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span style="color: #007bff">0</span></div>
    <div id="timer">‡πÄ‡∏ß‡∏•‡∏≤: 120 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
    <button id="startButton" class="btn btn-success" disabled>‡πÄ‡∏£‡∏¥‡πà‡∏°</button>
    <button id="resetButton" class="btn btn-danger">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
  </div>
  <div style="margin-top: 20px; background-color: aliceblue ; padding: 3px;">
    <h6>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h6>
    <p>1. ‡∏Å‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</p>
    <p>2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏¥‡πâ‡∏á‡∏ï‡∏≤‡∏°‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡∏¢‡∏∞</p>
    <p>3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ó‡∏±‡πâ‡πâ‡∏á‡πÉ‡∏ô‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡∏∞‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞ üòô</p>
  </div>
  <script>
    let trashQueue = Array.from(document.querySelectorAll(".trash-item"));
    let score = 0;
    let time = 60;
    let timeLeft = time;
    let timerInterval;
    let gameStarted = false;
    let correctCount = 0;
    let selectedTrashElement = null;
    let binSelect = "";
    let currentTrashIndex = 0;

    function startGame() {
      if (!gameStarted) {
        gameStarted = true;
        score = 0;
        timeLeft = time;
        updateScoreDisplay();
        updateTimerDisplay();
        showNextTrash(); // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ showNextTrash() ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
        startTimer();

        const bins = document.querySelectorAll(".bin");
        bins.forEach((bin) => {
          bin.style.pointerEvents = "auto"; // ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å
          bin.style.opacity = "1"; // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥
        });

      document.getElementById("resetButton").disabled = false;
      document.getElementById("startButton").disabled = true;
      }
    }

    function resetGame() {
      gameStarted = false;
      clearInterval(timerInterval);
      trashQueue.forEach((item) => {
        item.style.display = "none";
        item.classList.remove("active");
        document.getElementById("trash-container").appendChild(item);
      });
      timeLeft = time;
      updateTimerDisplay();
      correctCount = 0;
      currentTrashIndex = 0;
      score = 0;
      updateScoreDisplay();

      const bins = document.querySelectorAll(".bin");
      bins.forEach((bin) => {
        bin.style.pointerEvents = "none";
        bin.style.opacity = "0.5";
      });
      document.getElementById("resetButton").disabled = true;
      document.getElementById("startButton").disabled = false;
    }

    function startTimer() {
      timerInterval = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          endGame();
        }
      }, 1000);
    }

    function updateScoreDisplay() {
      document.querySelector("#score span").textContent = score;
    }

    function updateTimerDisplay() {
      document.getElementById(
        "timer"
      ).textContent = `‡πÄ‡∏ß‡∏•‡∏≤: ${timeLeft} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
    }

    function endGame() {
      if (gameStarted) {
        Swal.fire({
          title: '‡∏à‡∏ö‡πÄ‡∏Å‡∏°!',
          text: `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠: ${score}`,
          icon: 'success', // ‡∏´‡∏£‡∏∑‡∏≠ 'error', 'warning', 'info' ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
          confirmButtonText: '‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á',
        }).then((result) => {
          if (result.isConfirmed) {
            resetGame();
            startGame();
          }
        });
        gameStarted = false;
      }
    }

    function showNextTrash() {
      if (currentTrashIndex < trashQueue.length) {
        let item = trashQueue[currentTrashIndex];
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ç‡∏¢‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        if (item.classList.contains("selected")) {
          currentTrashIndex++; // ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
          showNextTrash(); // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ã‡πâ‡∏≥
          return;
        }
        trashQueue.forEach((item, index) => {
          if (index === currentTrashIndex) {
            item.style.display = "flex";
            item.classList.add("active");
            const trashName = item.querySelector(".trash-name");
            const trashImg = item.querySelector(".trash");
            trashName.textContent = trashImg.alt;
          } else {
            item.style.display = "none";
            item.classList.remove("active");
          }
        });
      }
    }

    function checkCompletion() {
      if (trashQueue.length === 0) {
        Swal.fire({
          title: '‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!',
          icon: 'success',
          timer: 3000, // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
          showConfirmButton: false,
        });
        gameStarted = false;
        clearInterval(timerInterval);
      } else if (currentTrashIndex < trashQueue.length) {
        showNextTrash();
      }
    }

    function getCurrentTrashDataType() {
      if (currentTrashIndex < trashQueue.length) {
        const currentTrash =
          trashQueue[currentTrashIndex].querySelector(".trash");
        return currentTrash.getAttribute("data-type");
      } else {
        return null;
      }
    }

    document.querySelectorAll(".bin").forEach((bin) => {
      bin.addEventListener("click", function () {
        document
          .querySelectorAll(".bin")
          .forEach((el) => el.classList.remove("active-border"));

        binSelect = bin.getAttribute("data-type");
        trashSelect = getCurrentTrashDataType();
        const nowTrash = document.querySelector(".trash.active");
        console.log(trashSelect);
        if (trashSelect == "") {
          alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏¢‡∏∞‡∏Å‡πà‡∏≠‡∏ô");
        } else if (trashSelect == binSelect) {
          Swal.fire({
            title: '‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!',
            icon: 'success',
            timer: 1000, // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            showConfirmButton: false,
          });
          score += 10;
          updateScoreDisplay();
          const selectedItem = trashQueue[currentTrashIndex]; // ‡πÄ‡∏Å‡πá‡∏ö item ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
          trashQueue.splice(currentTrashIndex, 1); // ‡∏•‡∏ö‡∏Ç‡∏¢‡∏∞‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Ñ‡∏¥‡∏ß
          selectedItem.style.display = "none";
          checkCompletion();
          correctCount++;
          trashSelect = ""; // reset trashSelect
          nowTrash.style.display = "none";
        } else {
          binSelect = "";
          score -= 5;
          updateScoreDisplay();
          Swal.fire({
            title: '‡∏ú‡∏¥‡∏î!',
            icon: 'error',
            timer: 1000,
            showConfirmButton: false,
          });
        }
      });
    });

    document
      .getElementById("startButton")
      .addEventListener("click", startGame);
    document
      .getElementById("resetButton")
      .addEventListener("click", resetGame);
    resetGame();

    window.onload = function () {
      const bins = document.querySelectorAll(".bin");
      bins.forEach((bin) => {
        bin.style.pointerEvents = "none"; // ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å
        bin.style.opacity = "0.5"; // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏à‡∏≤‡∏á‡∏•‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
      });
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>